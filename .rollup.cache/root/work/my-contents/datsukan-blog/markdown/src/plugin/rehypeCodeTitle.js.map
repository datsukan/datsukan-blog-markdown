{"version":3,"file":"rehypeCodeTitle.js","sourceRoot":"","sources":["rehypeCodeTitle.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,KAAK,EAAE,MAAM,kBAAkB,CAAA;AAExC,IAAM,SAAS,GAAG,GAAG,CAAA;AAErB,MAAM,CAAC,OAAO,UAAU,eAAe;IACrC,OAAO,WAAW,CAAA;IAElB,SAAS,WAAW,CAAC,IAAU;QAC7B,KAAK,CAAC,IAAI,EAAE,SAAS,EAAE,OAAO,CAAC,CAAA;QAE/B,SAAS,OAAO,CAAC,IAAU;YACzB,IACE,IAAI,CAAC,OAAO,KAAK,MAAM;gBACvB,CAAC,CAAC,IAAI,CAAC,UAAU;gBACjB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS;gBAC3B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EACpC;gBACA,8BAA8B;gBAC9B,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBAC/D,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,EAAE,CAAA;gBAChD,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBAAE,OAAM;gBACnD,IAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;gBACvC,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,KAAK,CAAA;aAC9B;QACH,CAAC;QAED,OAAO,IAAI,CAAA;IACb,CAAC;AACH,CAAC","sourcesContent":["// @ts-nocheck\nimport type { Node } from \"unist\"\nimport { visit } from \"unist-util-visit\"\n\nconst delimiter = \":\"\n\nexport default function customDirective() {\n  return transformer\n\n  function transformer(tree: Node) {\n    visit(tree, \"element\", visitor)\n\n    function visitor(node: Node) {\n      if (\n        node.tagName === \"code\" &&\n        !!node.properties &&\n        !!node.properties.className &&\n        node.properties.className.length > 0\n      ) {\n        // console.log('rehype', node)\n        const aliasList = node.properties.className[0].split(delimiter)\n        node.properties.className[0] = aliasList.shift()\n        if (aliasList.length === 0 || !aliasList[0]) return\n        const title = aliasList.join(delimiter)\n        node.properties.title = title\n      }\n    }\n\n    return tree\n  }\n}\n"]}